{"version":3,"sources":["Components/SearchForm/SearchForm.module.css","Components/PicturesSearch/PictureSearch.module.css","Components/GalleryItem/GalleryItem.module.css","Components/Gallery/Gallery.module.css","Components/Modal/Modal.module.css","Components/SearchForm/SearchForm.js","Components/GalleryItem/GalleryItem.js","Components/Gallery/Gallery.js","Components/Modal/Modal.js","Components/PicturesSearch/PicturesSearch.js","App.js","index.js"],"names":["module","exports","form","input","container","button","item","img","stats","statsItem","fullScreenBtn","list","overlay","modal","SearchForm","_ref","onSubmit","onChange","value","react_default","a","createElement","className","styles","evt","preventDefault","type","autoComplete","placeholder","GalleryItem","webformatURL","onClick","largeImageURL","likes","views","comments","downloads","src","alt","Gallery","state","listRef","createRef","prevProps","data","this","props","length","window","scrollTo","left","top","current","scrollHeight","behavior","_this$props","ref","map","Components_GalleryItem_GalleryItem","Object","assign","key","id","Component","ReactModal","setAppElement","Modal","image","isOpen","onClose","lib_default","onRequestClose","LazyLoad_default","height","debounce","offsetVertical","PictureSearch","pictures","query","page","showModal","fullImage","fetchPictures","_this$state","_this","setState","axios","get","concat","process","then","res","toConsumableArray","mapper","hits","catch","err","console","log","filter","newData","find","prevData","handleQueryChange","_ref2","target","handleNextPage","handleOpenFullImage","handleCloseFullImage","prevState","_this$state2","Components_SearchForm_SearchForm","Gallery_Gallery","Components_Modal_Modal","App","PicturesSearch_PictureSearch","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c8c51744.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__2nw6X\",\"input\":\"SearchForm_input__YTgU3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PictureSearch_container__3Reyh\",\"button\":\"PictureSearch_button__26AzA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"GalleryItem_item__ikvcf\",\"img\":\"GalleryItem_img__7DXH4\",\"stats\":\"GalleryItem_stats__2vWTC\",\"statsItem\":\"GalleryItem_statsItem__j5sXj\",\"fullScreenBtn\":\"GalleryItem_fullScreenBtn__3PmN0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Gallery_list__3jpqF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2rh2m\",\"modal\":\"Modal_modal__364dp\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({ onSubmit, onChange, value }) => {\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    onSubmit();\n  };\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <input\n        className={styles.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        value={value}\n        onChange={onChange}\n        placeholder=\"Search images...\"\n      />\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './GalleryItem.module.css';\n\nconst GalleryItem = ({\n  webformatURL,\n  onClick,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  const handleShowFullImage = () => {\n    onClick(largeImageURL);\n  };\n\n  return (\n    <li className={styles.item}>\n      <img className={styles.img} src={webformatURL} alt=\"\" />\n\n      <div className={styles.stats}>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n      <button\n        type=\"button\"\n        className={styles.fullScreenBtn}\n        onClick={handleShowFullImage}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </li>\n  );\n};\n\nGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default GalleryItem;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport GalleryItem from '../GalleryItem/GalleryItem';\nimport styles from './Gallery.module.css';\n\nexport default class Gallery extends Component {\n  state = {};\n\n  listRef = createRef();\n\n  componentDidUpdate(prevProps) {\n    const { data } = this.props;\n    if (prevProps.data.length !== data) {\n      window.scrollTo({\n        left: 0,\n        top: this.listRef.current.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  render() {\n    const { data, onClick } = this.props;\n    return (\n      <ul ref={this.listRef} className={styles.list}>\n        {data.map(item => (\n          <GalleryItem key={item.id} {...item} onClick={onClick} />\n        ))}\n      </ul>\n    );\n  }\n}\n\nGallery.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactModal from 'react-modal';\nimport LazyLoad from 'react-lazy-load';\nimport styles from './Modal.module.css';\n\nReactModal.setAppElement('#root');\n\nconst Modal = ({ image, isOpen, onClose }) => {\n  return (\n    <ReactModal isOpen={isOpen} onRequestClose={onClose}>\n      <div className={styles.modal}>\n        <LazyLoad height={762} debounce={false} offsetVertical={300}>\n          <img src={image} alt=\"\" />\n        </LazyLoad>\n      </div>\n    </ReactModal>\n  );\n};\n\nModal.propTypes = {\n  image: PropTypes.string.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport styles from './PictureSearch.module.css';\nimport Modal from '../Modal/Modal';\n\nexport default class PictureSearch extends Component {\n  state = { pictures: [], query: '', page: 1, showModal: false, fullImage: '' };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page } = this.state;\n    if (prevState.page !== page) {\n      this.fetchPictures();\n    }\n  }\n\n  fetchPictures = () => {\n    const key = process.env.REACT_APP_API_KEY;\n    const { query, page } = this.state;\n\n    if (query) {\n      this.setState({ page: 1 });\n      axios\n        .get(\n          `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=8&key=${key}`,\n        )\n        .then(res =>\n          this.setState(state => ({\n            pictures: [...state.pictures, ...this.mapper(res.data.hits)],\n          })),\n        )\n        .catch(err => console.log(err));\n    }\n  };\n\n  mapper = data => {\n    const { pictures } = this.state;\n    const selectedData = data.map(\n      ({\n        id,\n        webformatURL,\n        largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => ({\n        id,\n        webformatURL,\n        largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }),\n    );\n    return selectedData.filter(\n      newData => !pictures.find(prevData => newData.id === prevData.id),\n    );\n  };\n\n  handleQueryChange = ({ target }) => {\n    const { value } = target;\n    this.setState({ query: value, pictures: [] });\n  };\n\n  handleNextPage = () => {\n    this.setState(state => ({ page: state.page + 1 }));\n  };\n\n  handleOpenFullImage = image => {\n    this.setState({ showModal: true, fullImage: image });\n  };\n\n  handleCloseFullImage = () => {\n    this.setState({ showModal: false, fullImage: '' });\n  };\n\n  render() {\n    const { pictures, query, fullImage, showModal } = this.state;\n    return (\n      <div className={styles.container}>\n        <SearchForm\n          onSubmit={this.fetchPictures}\n          onChange={this.handleQueryChange}\n          value={query}\n        />\n        <Gallery data={pictures} onClick={this.handleOpenFullImage} />\n\n        {showModal && (\n          <Modal\n            image={fullImage}\n            isOpen={showModal}\n            onClose={this.handleCloseFullImage}\n          />\n        )}\n\n        {pictures.length > 0 && (\n          <button\n            className={styles.button}\n            type=\"button\"\n            onClick={this.handleNextPage}\n          >\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PictureSearch from './Components/PicturesSearch/PicturesSearch';\n\nconst App = () => {\n  return <PictureSearch />;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}