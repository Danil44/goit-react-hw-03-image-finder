{"version":3,"sources":["Components/SearchForm/SearchForm.module.css","Components/PicturesSearch/PictureSearch.module.css","Components/GalleryItem/GalleryItem.module.css","Components/Gallery/Gallery.module.css","Components/Modal/Modal.module.css","Components/SearchForm/SearchForm.js","Components/GalleryItem/GalleryItem.js","Components/Gallery/Gallery.js","Components/Modal/Modal.js","Components/PicturesSearch/PicturesSearch.js","App.js","index.js"],"names":["module","exports","form","input","container","button","item","img","stats","statsItem","fullScreenBtn","list","overlay","modal","SearchForm","state","query","handleSubmit","evt","preventDefault","_this","onSubmit","props","handleQueryChange","_ref","value","target","setState","this","react_default","a","createElement","className","styles","type","autoComplete","onChange","placeholder","Component","GalleryItem","webformatURL","onClick","largeImageURL","likes","views","comments","downloads","src","alt","Gallery","listRef","createRef","prevProps","data","length","window","scrollTo","left","top","current","scrollHeight","behavior","_this$props","ref","map","Components_GalleryItem_GalleryItem","Object","assign","key","id","ReactModal","setAppElement","Modal","image","isOpen","onClose","lib_default","onRequestClose","LazyLoad_default","height","debounce","offsetVertical","PictureSearch","pictures","page","showModal","fullImage","fetchPictures","_this$state","axios","get","concat","process","then","res","toConsumableArray","mapper","hits","catch","err","console","log","filter","newData","find","prevData","handleSearchSubmit","handleNextPage","handleOpenFullImage","handleCloseFullImage","prevState","_this$state2","SearchForm_SearchForm","Gallery_Gallery","Components_Modal_Modal","App","PicturesSearch_PictureSearch","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cdc8d11f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__2nw6X\",\"input\":\"SearchForm_input__YTgU3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PictureSearch_container__3Reyh\",\"button\":\"PictureSearch_button__26AzA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"GalleryItem_item__ikvcf\",\"img\":\"GalleryItem_img__7DXH4\",\"stats\":\"GalleryItem_stats__2vWTC\",\"statsItem\":\"GalleryItem_statsItem__j5sXj\",\"fullScreenBtn\":\"GalleryItem_fullScreenBtn__3PmN0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Gallery_list__3jpqF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2rh2m\",\"modal\":\"Modal_modal__364dp\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  state = { query: '' };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired,\n    value: PropTypes.string.isRequired,\n  };\n\n  handleSubmit = evt => {\n    evt.preventDefault();\n    const { query } = this.state;\n    const { onSubmit } = this.props;\n    onSubmit(query);\n  };\n\n  handleQueryChange = ({ target }) => {\n    const { value } = target;\n    this.setState({ query: value });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <form className={styles.form} onSubmit={this.handleSubmit}>\n        <input\n          className={styles.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          value={query}\n          onChange={this.handleQueryChange}\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './GalleryItem.module.css';\n\nconst GalleryItem = ({\n  webformatURL,\n  onClick,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  const handleShowFullImage = () => {\n    onClick(largeImageURL);\n  };\n\n  return (\n    <li className={styles.item}>\n      <img className={styles.img} src={webformatURL} alt=\"\" />\n\n      <div className={styles.stats}>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n      <button\n        type=\"button\"\n        className={styles.fullScreenBtn}\n        onClick={handleShowFullImage}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </li>\n  );\n};\n\nGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default GalleryItem;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport GalleryItem from '../GalleryItem/GalleryItem';\nimport styles from './Gallery.module.css';\n\nexport default class Gallery extends Component {\n  state = {};\n\n  listRef = createRef();\n\n  componentDidUpdate(prevProps) {\n    const { data } = this.props;\n    if (prevProps.data.length !== data) {\n      window.scrollTo({\n        left: 0,\n        top: this.listRef.current.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  render() {\n    const { data, onClick } = this.props;\n    return (\n      <ul ref={this.listRef} className={styles.list}>\n        {data.map(item => (\n          <GalleryItem key={item.id} {...item} onClick={onClick} />\n        ))}\n      </ul>\n    );\n  }\n}\n\nGallery.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactModal from 'react-modal';\nimport LazyLoad from 'react-lazy-load';\nimport styles from './Modal.module.css';\n\nReactModal.setAppElement('#root');\n\nconst Modal = ({ image, isOpen, onClose }) => {\n  return (\n    <ReactModal isOpen={isOpen} onRequestClose={onClose}>\n      <div className={styles.modal}>\n        <LazyLoad height={762} debounce={false} offsetVertical={300}>\n          <img src={image} alt=\"\" />\n        </LazyLoad>\n      </div>\n    </ReactModal>\n  );\n};\n\nModal.propTypes = {\n  image: PropTypes.string.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport styles from './PictureSearch.module.css';\nimport Modal from '../Modal/Modal';\n\nexport default class PictureSearch extends Component {\n  state = { pictures: [], query: '', page: 1, showModal: false, fullImage: '' };\n\n  componentDidMount() {\n    this.fetchPictures();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page } = this.state;\n    if (prevState.page !== page) {\n      this.fetchPictures();\n    }\n  }\n\n  fetchPictures = () => {\n    const key = process.env.REACT_APP_API_KEY;\n    const { page, query } = this.state;\n\n    this.setState({ page: 1 });\n    axios\n      .get(\n        `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=8&key=${key}`,\n      )\n      .then(res =>\n        this.setState(state => ({\n          pictures: [...state.pictures, ...this.mapper(res.data.hits)],\n        })),\n      )\n      .catch(err => console.log(err));\n  };\n\n  mapper = data => {\n    const { pictures } = this.state;\n    const selectedData = data.map(\n      ({\n        id,\n        webformatURL,\n        largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => ({\n        id,\n        webformatURL,\n        largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }),\n    );\n    return selectedData.filter(\n      newData => !pictures.find(prevData => newData.id === prevData.id),\n    );\n  };\n\n  handleSearchSubmit = query => {\n    this.setState(state => {\n      return state.query !== query && { pictures: [] };\n    });\n    this.setState({ query }, this.fetchPictures);\n  };\n\n  handleNextPage = () => {\n    this.setState(state => ({ page: state.page + 1 }));\n  };\n\n  handleOpenFullImage = image => {\n    this.setState({ showModal: true, fullImage: image });\n  };\n\n  handleCloseFullImage = () => {\n    this.setState({ showModal: false, fullImage: '' });\n  };\n\n  render() {\n    const { pictures, query, fullImage, showModal } = this.state;\n    return (\n      <div className={styles.container}>\n        <SearchForm\n          onSubmit={this.handleSearchSubmit}\n          onChange={this.handleQueryChange}\n          value={query}\n        />\n        <Gallery data={pictures} onClick={this.handleOpenFullImage} />\n\n        {showModal && (\n          <Modal\n            image={fullImage}\n            isOpen={showModal}\n            onClose={this.handleCloseFullImage}\n          />\n        )}\n\n        {pictures.length > 0 && (\n          <button\n            className={styles.button}\n            type=\"button\"\n            onClick={this.handleNextPage}\n          >\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PictureSearch from './Components/PicturesSearch/PicturesSearch';\n\nconst App = () => {\n  return <PictureSearch />;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}